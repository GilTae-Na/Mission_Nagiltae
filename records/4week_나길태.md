# 1Week 나길태
-----------------------------------------------------------------
## 미션 요구사항 분석 & 체크리스트
-----------------------------------------------------------------
### 요구사항분석
네이버클라우드플랫폼을 통한 배포, 도메인, HTTPS 까지 적용
- https://도메인/ 형태로 접속이 가능
- 운영서버에서 각종 소셜로그인, 인스타 아이디 연결이 잘 되어야 합니다.

젠킨스를 통해서 리포지터리의 main 브랜치에 커밋 이벤트가 발생하면 자동으로 배포가 진행되도록
- 리포지터리의 main 브랜치에 커밋 이벤트가 발생하면 자동으로 배포가 진행

내가 받은 호감리스트(/usr/likeablePerson/toList)에서 성별 필터링기능 구현
- 내가 받은 호감리스트에서 특정 성별을 가진 사람에게서 받은 호감만 필터링해서 볼 수 있다

내가 받은 호감리스트(/usr/likeablePerson/toList)에서 호감사유 필터링기능 구현
- 내가 받은 호감리스트에서 특정 호감사유의 호감만 필터링해서 볼 수 있다.

내가 받은 호감리스트(/usr/likeablePerson/toList)에서 정렬기능
- 최신순(기본) : 최근에 받은 호감표시를 우선적으로 표시
- 날짜순 : 오래전에 받은 호감표시를 우선적으로 표시
- 인기 많은 순 : 인기가 많은 사람의 호감표시를 우선적으로 표시
- 인기 적은 순 : 인기가 적은 사람의 호감표시를 우선적으로 표시
- 성별순 : 여성에게 받은 호감표시를 먼저 표시하고, 그 다음 남자에게 받은 호감표시를 후에 표시
  -> 2순위 정렬조건으로는 최신순
- 호감사유순 : 외모 때문에 받은 호감표시를 먼저 표시하고, 그 다음 성격 때문에 받은 호감표시를 후에 표시, 마지막으로 능력 때문에 받은 호감표시를 후에 표시
  -> 2순위 정렬조건으로는 최신순

### 체크리스트
네이버클라우드플랫폼을 통한 배포, 도메인, HTTPS 까지 적용
- [x] 위켄중 재배포 부분 참고
- [x] nginx에 www.skrlfxo.site 말고 skrlfxo.site도 추가하기 (도메인)
-  -> 그냥 skrlfxo.site로 들어가면 접속이 안되는 현상이 가끔 있음

젠킨스를 통해서 리포지터리의 main 브랜치에 커밋 이벤트가 발생하면 자동으로 배포가 진행되도록
- [x] 강사님이 만들어 주신 가이드라인 파악
- [x] 못했음

내가 받은 호감리스트(/usr/likeablePerson/toList)에서 성별 필터링기능 구현
- [x] 엔티티 양방향 관계 파악후 스트림 필터기능 사용
- [x] 컨트롤러와 서비스 로직 분리
- [x] 매개변수로 받은 gender를 사용해 필터링
- [x] notprod에 누가누구를 좋아한다를 미리 넣어 실행하면 바로 볼수 있음

내가 받은 호감리스트(/usr/likeablePerson/toList)에서 호감사유 필터링기능 구현
- [x] 엔티티 양방향 관계 파악후 스트림 필터기능 사용
- [x] 컨트롤러와 서비스 로직 분리
- [x] 매개변수로 받은 attractiveTypeCode를 사용해 필터링
- [x] notprod에 누가누구를 좋아한다를 미리 넣어 실행하면 바로 볼수 있음

내가 받은 호감리스트(/usr/likeablePerson/toList)에서 정렬기능
- [x] 배포후 구현
- [x] 
- [x] 
- [x] 
- [x]


--------------------------------------------------------------------------
#### N주차 미션 요약
[접근 방법]
재배포 
이전 재배포 삽질이 도움되서 다행히 인프라 23강 만으로 재배포 했다. 성별 필터링과 호감코드 필터링을 포함하였다.

성별 필터링 : 강의중 강사님이 힌트 제공
- getToInstaMember() 말고 getToInstaMember()사용
-> getToInstaMember()로 하면 성별이 반대로 나와서 getToInstaMember()로 하니 정상으로 작동
- member(나) -> instaMember(내 인스타) -> getToLikeablePeople(나를 좋아하는 사람들) -> from(얘가) -> to(나를 좋아해) ->from사용
-> 양방향 엔티티구조를 잘 이해하자 - 틀릴수도 있음
-> 주소창에 gender가 매개변수로 들어온다 = gender는 string 이다 = equal로 비교해서 필터링하자

호감코드 필터링 : 강의중 강사님이 힌트 제공
-> 주소창에 attractiveTypeCode가 매개변수로 들어온다 = attractiveTypeCode는 int 이다, == 로 비교해서 필터링하자

정렬 필터링



[특이사항]
컨트롤에서 로직을 짜고 서비스로 로직 옮김
-> 처음화면과 정렬화면에는 호감목록이 잘 나오는데, 정렬후 다시 **처음으로 돌리면 목록이 없다고 나옴.**
-> 해결하려고 봤으나 컨트롤러와 서비스 경계가 모호해져서 해결못하고 놔둠
-> 일단 stream을 컨트롤러에 선언해놈 : 해결하면 확실이 서비스쪽으로 분리 예정 
-> 서비스에서 매개변수 != 0 확인이랑 스트림 필터링 기능함
